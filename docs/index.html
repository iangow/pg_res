<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Modern Research Computing</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="Modern Research Computing">
  <meta name="generator" content="bookdown 0.3 and GitBook 2.6.7">

  <meta property="og:title" content="Modern Research Computing" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Modern Research Computing" />
  
  
  

<meta name="author" content="Ian D. Gow">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  

<link rel="next" href="bad-practices-in-research.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#a-taxonomy-of-data"><i class="fa fa-check"></i><b>1.1</b> A taxonomy of data</a><ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#project-specific-versus-general-data"><i class="fa fa-check"></i><b>1.1.1</b> Project-specific versus general data</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#why-a-relational-database"><i class="fa fa-check"></i><b>1.2</b> Why a relational database?</a><ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#alternative-1-data-files-in-statistical-package-of-choice"><i class="fa fa-check"></i><b>1.2.1</b> Alternative 1: Data files in statistical package of choice</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#why-postgresql"><i class="fa fa-check"></i><b>1.3</b> Why PostgreSQL?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="bad-practices-in-research.html"><a href="bad-practices-in-research.html"><i class="fa fa-check"></i><b>2</b> Bad practices in research</a><ul>
<li class="chapter" data-level="2.1" data-path="bad-practices-in-research.html"><a href="bad-practices-in-research.html#manual-steps-in-analysis"><i class="fa fa-check"></i><b>2.1</b> Manual steps in analysis</a></li>
<li class="chapter" data-level="2.2" data-path="bad-practices-in-research.html"><a href="bad-practices-in-research.html#manual-modification-of-data"><i class="fa fa-check"></i><b>2.2</b> Manual modification of data</a></li>
<li class="chapter" data-level="2.3" data-path="bad-practices-in-research.html"><a href="bad-practices-in-research.html#bad-or-no-documentation"><i class="fa fa-check"></i><b>2.3</b> Bad (or no) documentation</a></li>
<li class="chapter" data-level="2.4" data-path="bad-practices-in-research.html"><a href="bad-practices-in-research.html#poor-version-control"><i class="fa fa-check"></i><b>2.4</b> Poor version control</a></li>
<li class="chapter" data-level="2.5" data-path="bad-practices-in-research.html"><a href="bad-practices-in-research.html#limited-sharing-of-code-and-data"><i class="fa fa-check"></i><b>2.5</b> Limited sharing of code and data</a></li>
<li class="chapter" data-level="2.6" data-path="bad-practices-in-research.html"><a href="bad-practices-in-research.html#no-data-exploration"><i class="fa fa-check"></i><b>2.6</b> No data exploration</a></li>
<li class="chapter" data-level="2.7" data-path="bad-practices-in-research.html"><a href="bad-practices-in-research.html#casual-approach-to-merging-data-sets"><i class="fa fa-check"></i><b>2.7</b> Casual approach to merging data sets</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="the-backbone-the-relational-database.html"><a href="the-backbone-the-relational-database.html"><i class="fa fa-check"></i><b>3</b> The backbone: The relational database</a><ul>
<li class="chapter" data-level="3.1" data-path="the-backbone-the-relational-database.html"><a href="the-backbone-the-relational-database.html#handling-large-ish-data-sets"><i class="fa fa-check"></i><b>3.1</b> Handling large-ish data sets</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="getting-data-into-postgresql.html"><a href="getting-data-into-postgresql.html"><i class="fa fa-check"></i><b>4</b> Getting data into PostgreSQL</a><ul>
<li class="chapter" data-level="4.1" data-path="getting-data-into-postgresql.html"><a href="getting-data-into-postgresql.html#data-from-wrds"><i class="fa fa-check"></i><b>4.1</b> Data from WRDS</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="identifiers.html"><a href="identifiers.html"><i class="fa fa-check"></i><b>5</b> Identifiers</a><ul>
<li class="chapter" data-level="5.1" data-path="identifiers.html"><a href="identifiers.html#firm-identifiers-a-quiz"><i class="fa fa-check"></i><b>5.1</b> Firm identifiers: A quiz</a></li>
<li class="chapter" data-level="5.2" data-path="identifiers.html"><a href="identifiers.html#crsps-link-tables"><i class="fa fa-check"></i><b>5.2</b> CRSP’s link tables</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="application-firm-performance-over-time.html"><a href="application-firm-performance-over-time.html"><i class="fa fa-check"></i><b>6</b> Application: Firm performance over time</a></li>
<li class="chapter" data-level="7" data-path="application-event-returns.html"><a href="application-event-returns.html"><i class="fa fa-check"></i><b>7</b> Application: Event returns</a></li>
<li class="chapter" data-level="8" data-path="application-processing-textual-data.html"><a href="application-processing-textual-data.html"><i class="fa fa-check"></i><b>8</b> Application: Processing textual data</a></li>
<li class="chapter" data-level="9" data-path="application-hand-collection-of-data.html"><a href="application-hand-collection-of-data.html"><i class="fa fa-check"></i><b>9</b> Application: Hand-collection of data</a><ul>
<li class="chapter" data-level="9.1" data-path="application-hand-collection-of-data.html"><a href="application-hand-collection-of-data.html#google-sheets"><i class="fa fa-check"></i><b>9.1</b> Google Sheets</a></li>
<li class="chapter" data-level="9.2" data-path="application-hand-collection-of-data.html"><a href="application-hand-collection-of-data.html#text-annotation"><i class="fa fa-check"></i><b>9.2</b> Text annotation</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Modern Research Computing</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">Modern Research Computing</h1>
<h3 class="subtitle"><em>Open Source Tools for Economics, Finance, and Accounting</em></h3>
<h4 class="author"><em>Ian D. Gow</em></h4>
</div>
<div id="introduction" class="section level1">
<h1><span class="header-section-number">Chapter 1</span> Introduction</h1>
<p>This books describes a computing platform for research computing. The major characters in this book include a relational database (I focus on PostgreSQL), version control (using Git and hosting by GitHub or Bitbucket), and open source programming languages (I focus on R and Python). Other characters with minor roles include Google Sheets, Mechanical Turk, and Fiverr.</p>
<p>In addition to these characters, this book will emphasize a number of habits and processes that these all together. In some ways, the value is not in the tools listed above, but in how they are brought to bear on research problems.</p>
<div id="a-taxonomy-of-data" class="section level2">
<h2><span class="header-section-number">1.1</span> A taxonomy of data</h2>
<p>The emphasis in this book is on empirical research, which is largely about data. One challenge with understanding alternatives approaches to data is the fact that data comes in many forms and has a number of types. While many textbook treatments cover critical aspects of working with data, some of the complexity of data is often omitted from such discussions. To understand some of the issues, I will discuss a number of dichotomies that data can be understood to fall into.</p>
<div id="project-specific-versus-general-data" class="section level3">
<h3><span class="header-section-number">1.1.1</span> Project-specific versus general data</h3>
<p>For many researchers, the world might be divided into projects and each project might be understood as comprising a primary final output in the form of a paper. In many discussions, it is recommended that researchers keep their data separate from code by having, say, a subdirectory of the main project directory labelled <code>data</code> and another labelled <code>code</code> (or something similar).</p>
<p>My experience is that, while there is often data that is specific to a particular project, much of the data I work with has applications across multiple projects. Clearly data from the <a href="http://www.crsp.com">Center for Research in Security Prices</a> (CRSP), whose “US Stock Databases contain daily and monthly market and corporate action data for securities with primary listings on the NYSE, NYSE MKT, NASDAQ, and Arca exchanges and include CRSP broad market indexes”, have applications across multiple projects.<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a></p>
<p>Some researchers handle general data by maintaining project-specific copies of the data. There is the download of part of the CRSP daily stock file that I made in 2015 for the paper on earnings management around IPOs. Then there is the download of the same data set that I made a few months later for the paper on the new lease accounting standard.</p>
<p>But other data sets might start life as project-specific data</p>
</div>
</div>
<div id="why-a-relational-database" class="section level2">
<h2><span class="header-section-number">1.2</span> Why a relational database?</h2>
<p>A key point of this book regards the benefits of using a relational database as the primary data repository.<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a> To discuss the benefits of a relational database, it is helpful to understand the common alternatives.</p>
<div id="alternative-1-data-files-in-statistical-package-of-choice" class="section level3">
<h3><span class="header-section-number">1.2.1</span> Alternative 1: Data files in statistical package of choice</h3>
<p>One common approach is to primarily use one statistical programming package (e.g., Stata) and to keep data in the native format of that package.</p>
</div>
</div>
<div id="why-postgresql" class="section level2">
<h2><span class="header-section-number">1.3</span> Why PostgreSQL?</h2>
<p>Much of this book involves the use of PostgreSQL as the backbone of a setup for empirical research in accounting, finance, economics, and fields with similar kinds of data.<a href="#fn3" class="footnoteRef" id="fnref3"><sup>3</sup></a> You may wonder why I emphasize PostgreSQL and not, say, MySQL or SQLite or even something hosted in the cloud, such as Google’s Redshift. I do so for a number of reasons:</p>
<ul>
<li><strong>To provide concrete examples.</strong> Any expert in SQL or relational databases knows that, while there are standards such as <a href="https://en.wikipedia.org/wiki/SQL-92">SQL 92</a> and <a href="https://en.wikipedia.org/wiki/SQL:2003">SQL-2003</a>, no system closely follows these standards.<a href="#fn4" class="footnoteRef" id="fnref4"><sup>4</sup></a> As such, to provide concrete working examples, I would often need to provide multiple versions for the different implementations.<a href="#fn5" class="footnoteRef" id="fnref5"><sup>5</sup></a> Instead, by focusing on PostgreSQL, I can provide working code without boring readers with the details of different implementations.</li>
<li><strong>Other systems are similar.</strong> My experience is that if you understand one SQL-based system, it is pretty easy to apply that knowledge to another system. This is particularly true when using packages such as <code>dplyr</code> (for R) or SQLAlchemy (for Python), as these packages attempt to abstract from platform-specific details. My hope is that if you use, say, MySQL, then much of what I say will carry over to that platform.<a href="#fn6" class="footnoteRef" id="fnref6"><sup>6</sup></a></li>
<li><strong>PostgreSQL is the system I use.</strong> A prosaic justification for featuring PostgreSQL is that it’s what I use. Trying to explain something I don’t use would be problematic, and setting up MySQL just to write this does not seem to be a good use of limited time.</li>
<li><strong>PostgreSQL is very robust.</strong> When I decieded to migrate my data into a relational database in 2010 and 2011, I initially tried SQLite. This is incredibly easy to set up and is available everywhere, but after the second time a 20GB data table was corrupted, I decided it wasn’t quite what I was looking for. Since switching to PostgreSQL in 2011, I haven’t experience data corruption or database crashes.<a href="#fn7" class="footnoteRef" id="fnref7"><sup>7</sup></a></li>
<li><strong>PostgreSQL has some great features.</strong> I also dabbled with MySQL alongside PostgreSQL for a while, but in the end was captivated by some features of PostgreSQL, some of which are compelling for researchers. These include the very rich set of data types supported by PostgreSQL, the availability of procedural languages for in-database programming, and the support for modern SQL features such as common-table expressions and window functions. I will discuss what these are and how they are useful for researchers in Chapter 3. While PostgreSQL has many compelling features for a wide range of situations, in the system I describe, PostgreSQL is largely functioning as a data repository. As such, many of the benefits could be obtained using another platform, such as MySQL.</li>
<li><strong>PostgreSQL is good value for money.</strong> All this for nothing. PostgreSQL is supported by an enthusiastic and active group of users and developers.</li>
<li><strong>A PostgreSQL server is now available from WRDS.</strong> Wharton Research Data Services (WRDS) is a major sourc of data for researchers in finance, accounting and other fields. WRDS recently began offering a server on <code>wrds-pgdata.wharton.upenn.edu</code> running on port <code>9737</code>. This is some kind of a vote of confidence in PostgreSQL and also creates additional reasons to use PostgreSQL as doing so creates multiple ways to access WRDS data from within PostgreSQL.</li>
</ul>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>For many researchers in finance and accounting, it might be hard to imagine a study that did not use CRSP data.<a href="index.html#fnref1">↩</a></p></li>
<li id="fn2"><p>In ways I will discuss, it is effectively my exclusive data store.<a href="index.html#fnref2">↩</a></p></li>
<li id="fn3"><p>While PostgreSQL is the backbone, the research examples I will provide will generally use R or Python as the main coding language.<a href="index.html#fnref3">↩</a></p></li>
<li id="fn4"><p>My understanding is that PostgreSQL is one of the more standards-compliant implementations available.<a href="index.html#fnref4">↩</a></p></li>
<li id="fn5"><p>This is the approach taken by the <a href="http://shop.oreilly.com/product/9780596009762.do"><em>SQL Cookbook</em></a>.<a href="index.html#fnref5">↩</a></p></li>
<li id="fn6"><p>Another possibility is that you might like what you see in PostgreSQL as make the switch.<a href="index.html#fnref6">↩</a></p></li>
<li id="fn7"><p>Sometimes I have crashed the machine on which the database has been running, but that has never been PostgreSQL’s fault.<a href="index.html#fnref7">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>

<a href="bad-practices-in-research.html" class="navigation navigation-next navigation-unique" aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
